{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilkumargautam/Desktop/food-distro/src/views/Analysis.js\";\nimport React from \"react\";\nimport { withFirebaseHOC } from '../firebase';\nimport { Link } from \"react-router-dom\";\nimport rd3 from 'react-d3-library';\nimport Pie from '../components/layout/navbar/Pie';\n\nclass Analysis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodData: [],\n      data: [5, 2, 7, 1, 1, 3, 4, 9]\n    };\n  }\n\n  componentDidMount() {\n    const db = this.props.firebase.db();\n    db.collection('food-data').get().then(snap => {\n      snap.docs.forEach((doc, i) => {\n        console.log(doc.data());\n        this.setState(state => ({\n          foodData: [...state.foodData, {\n            edibleTime: doc.data().edibleTime,\n            foodType: doc.data().foodType,\n            feedPeople: doc.data().feedPeople\n          }]\n        }));\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    let width = window.innerWidth;\n    let height = window.innerHeight;\n    let minViewportSize = Math.min(width, height); // This sets the radius of the pie chart to fit within\n    // the current window size, with some additional padding\n\n    let radius = minViewportSize * .9 / 2; // Centers the pie chart\n\n    let x = width / 2;\n    let y = height / 2;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      class: \"display-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Analysis of Wasted Food\"), React.createElement(\"svg\", {\n      width: \"100%\",\n      height: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Pie, {\n      x: x,\n      y: y,\n      radius: radius,\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withFirebaseHOC(Analysis);","map":{"version":3,"sources":["/Users/nikhilkumargautam/Desktop/food-distro/src/views/Analysis.js"],"names":["React","withFirebaseHOC","Link","rd3","Pie","Analysis","Component","constructor","props","state","foodData","data","componentDidMount","db","firebase","collection","get","then","snap","docs","forEach","doc","i","console","log","setState","edibleTime","foodType","feedPeople","catch","err","render","width","window","innerWidth","height","innerHeight","minViewportSize","Math","min","radius","x","y"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,aAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,GAAP,MAAgB,iCAAhB;;AAGA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB;AAFK,KAAb;AAID;;AAIDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,EAAE,GAAG,KAAKL,KAAL,CAAWM,QAAX,CAAoBD,EAApB,EAAX;AACAA,IAAAA,EAAE,CAACE,UAAH,CAAc,WAAd,EAA2BC,GAA3B,GACGC,IADH,CACSC,IAAD,IAAU;AACdA,MAAAA,IAAI,CAACC,IAAL,CAAUC,OAAV,CAAkB,CAACC,GAAD,EAAMC,CAAN,KAAY;AAC1BC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACV,IAAJ,EAAZ;AACF,aAAKc,QAAL,CAAchB,KAAK,KAAK;AACtBC,UAAAA,QAAQ,EAAE,CAAC,GAAGD,KAAK,CAACC,QAAV,EAAoB;AAACgB,YAAAA,UAAU,EAAEL,GAAG,CAACV,IAAJ,GAAWe,UAAxB;AAAoCC,YAAAA,QAAQ,EAAEN,GAAG,CAACV,IAAJ,GAAWgB,QAAzD;AAAmEC,YAAAA,UAAU,EAAEP,GAAG,CAACV,IAAJ,GAAWiB;AAA1F,WAApB;AADY,SAAL,CAAnB;AAGD,OALD;AAMD,KARH,EASGC,KATH,CASSC,GAAG,IAAIP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAThB;AAYD;;AAIDC,EAAAA,MAAM,GAAG;AAEP,QAAIC,KAAK,GAAGC,MAAM,CAACC,UAAnB;AACA,QAAIC,MAAM,GAAGF,MAAM,CAACG,WAApB;AACA,QAAIC,eAAe,GAAGC,IAAI,CAACC,GAAL,CAASP,KAAT,EAAgBG,MAAhB,CAAtB,CAJO,CAKP;AACA;;AACA,QAAIK,MAAM,GAAIH,eAAe,GAAG,EAAnB,GAAyB,CAAtC,CAPO,CAQP;;AACA,QAAII,CAAC,GAAGT,KAAK,GAAG,CAAhB;AACA,QAAIU,CAAC,GAAGP,MAAM,GAAG,CAAjB;AAGE,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE;AAAK,MAAA,KAAK,EAAC,MAAX;AAAkB,MAAA,MAAM,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEF,oBAAC,GAAD;AAAK,MAAA,CAAC,EAAEM,CAAR;AAAW,MAAA,CAAC,EAAEC,CAAd;AAAiB,MAAA,MAAM,EAAEF,MAAzB;AAAiC,MAAA,IAAI,EAAE,KAAK/B,KAAL,CAAWE,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFE,CAFF,CADF;AAWH;;AArDoC;;AAwDvC,eAAeV,eAAe,CAACI,QAAD,CAA9B","sourcesContent":["import React from \"react\";\nimport { withFirebaseHOC } from '../firebase'\nimport { Link } from \"react-router-dom\"\nimport rd3 from 'react-d3-library'\nimport Pie from '../components/layout/navbar/Pie'\n\n\nclass Analysis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodData: [],\n      data: [5, 2, 7, 1, 1, 3, 4, 9]\n    }\n  }\n\n  \n\n  componentDidMount() {\n    const db = this.props.firebase.db()\n    db.collection('food-data').get()\n      .then((snap) => {\n        snap.docs.forEach((doc, i) => {\n            console.log(doc.data())\n          this.setState(state => ({\n            foodData: [...state.foodData, {edibleTime: doc.data().edibleTime, foodType: doc.data().foodType, feedPeople: doc.data().feedPeople}]\n          }))\n        });\n      })\n      .catch(err => console.log(err))\n\n      \n  }\n\n\n\n  render() {\n\n    let width = window.innerWidth;\n    let height = window.innerHeight;\n    let minViewportSize = Math.min(width, height);\n    // This sets the radius of the pie chart to fit within\n    // the current window size, with some additional padding\n    let radius = (minViewportSize * .9) / 2;\n    // Centers the pie chart\n    let x = width / 2;\n    let y = height / 2;\n\n   \n      return (\n        <div>\n          <h1 class=\"display-3\">Analysis of Wasted Food</h1>\n          <svg width=\"100%\" height=\"100%\">\n        {/* We'll create this component in a minute */}\n        <Pie x={x} y={y} radius={radius} data={this.state.data} />\n      </svg>\n        </div>\n      )\n\n\n  }\n}\n\nexport default withFirebaseHOC(Analysis)\n"]},"metadata":{},"sourceType":"module"}